// Copyright 2020-2021 Beken
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

#include <common/bk_include.h>
#include <driver/lcd_types.h>


static const lcd_qspi_init_cmd_t gc9d01_init_cmds[] =
{
    {0xFE, {0x00}, 0},
    {0xEF, {0x00}, 0},
    {0x80, {0xFF}, 1},
    {0x81, {0xFF}, 1},
    {0x82, {0xFF}, 1},
    {0x83, {0xFF}, 1},
    {0x84, {0xFF}, 1},
    {0x85, {0xFF}, 1},
    {0x86, {0xFF}, 1},
    {0x87, {0xFF}, 1},
    {0x88, {0xFF}, 1},
    {0x89, {0xFF}, 1},
    {0x8A, {0xFF}, 1},
    {0x8B, {0xFF}, 1},
    {0x8C, {0xFF}, 1},
    {0x8D, {0xFF}, 1},
    {0x8E, {0xFF}, 1},
    {0x8F, {0xFF}, 1},
    {0x3A, {0x05}, 1},
    {0xEC, {0x01}, 1},
    {0x74, {0x02, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00}, 7},
    {0x98, {0x3E, 0x99, 0x3E}, 3},
    {0XB5, {0x0D, 0x0D}, 2},
    {0x60, {0x38, 0x0F, 0x79, 0x67}, 4},
    {0x61, {0x38, 0x11, 0x79, 0x67}, 4},
    {0x64, {0x38, 0x17, 0x71, 0x5F, 0x79, 0x67}, 6},
    {0x65, {0x38, 0x13, 0x71, 0x5B, 0x79, 0x67}, 6},
    {0x6A, {0x00, 0x00}, 2},
    {0x6C, {0x22, 0x02, 0x22, 0x02, 0x22, 0x22, 0x50}, 7},
    {0x6E, {0x03, 0x03, 0x01, 0x01, 0x00, 0x00, 0x0F, 0x0F, 0x0D, 0x0D, 0x0B, 0x0B, 0x09, 0x09, 0x00, 0x00, 0x00, 0x00, 0x0A, 0x0A, 0x0C, 0x0C, 0x0E, 0x0E, 0x10, 0x10, 0x00, 0x00, 0x02, 0x02, 0x04, 0x04}, 32},
    {0xBF, {0x01}, 1},
    {0xF9, {0x40}, 1},
    {0x9B, {0x3B}, 1},
    {0x93, {0x33, 0x7F, 0x00}, 3},
    {0x7E, {0x30}, 1},
    {0x70, {0x0D, 0x02, 0x08, 0x0D, 0x02, 0x08}, 6},
    {0x71, {0x0D, 0x02, 0x08}, 3},
    {0X91, {0x0E, 0x09}, 2},
    {0xC3, {0x18}, 1},
    {0xC4, {0x18}, 1},
    {0xC9, {0x3C}, 1},
    {0xF0, {0x13, 0x15, 0x04, 0x05, 0x01, 0x38}, 6},
    {0xF2, {0x13, 0x15, 0x04, 0x05, 0x01, 0x34}, 6},
    {0xF1, {0x4B, 0xB8, 0x7B, 0x34, 0x35, 0xEF}, 6},
    {0xF3, {0x47, 0xB4, 0x72, 0x34, 0x35, 0xDA}, 6},
    {0x36, {0x00}, 1},
    {0x34, {0x00}, 0},
    {0x11, {0x00}, 0},
    {0x00, {0x78}, 0xFF},
    {0x29, {0x00}, 0},
};

static const lcd_spi_t lcd_spi_gc9d01_config =
{
    .clk = LCD_QSPI_60M,
    .init_cmd = gc9d01_init_cmds,
    .device_init_cmd_len = sizeof(gc9d01_init_cmds) / sizeof (lcd_qspi_init_cmd_t),
    .frame_len = (PPI_160X160 >> 16) * (PPI_160X160 & 0xFFFF) * 2,
};

const lcd_device_t lcd_device_gc9d01 =
{
    .id = LCD_DEVICE_GC9D01,
    .name = "gc9d01",
    .type = LCD_TYPE_SPI,
    .ppi = PPI_160X160,
    .spi = &lcd_spi_gc9d01_config,
    .init = NULL,
    .lcd_off = NULL,
};



